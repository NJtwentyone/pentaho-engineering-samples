<!doctype html>
<html>
<head>
  <style>
    #viz_div {
      border: solid 1px #005da6;
      width:  95vw;
      height: 80vh;
    }
  </style>

  <!-- Load the Visualization API development context. -->
  <script type="text/javascript" src="node_modules/@pentaho/visual-sandbox/webcontext.js"></script>

  <script type="text/javascript">
    require([
      "pentaho/visual/samples/sandbox/Sandbox",
      "pentaho/data/Table",
      "json!./sandbox-data.json"
    ], function(Sandbox, Table, datasets) {

      // Create the sandbox.
      var sandbox = new Sandbox({
        id: "pentaho/visual/samples/treemapD3/Model",
        spec: {
          "data": new Table(datasets.territoryLineSales),
          "category": {fields: ["[Markets].[Territory]","[Product].[Line]"]},
          "measure": {fields: ["[MEASURE:0]"]}
        },
        container: "viz_div",
        messages: "msg_div"
      });

      // Render it.
      sandbox.renderAsync();
    });
  </script>
</head>
<body>
<div id="viz_div"></div>
<div id="msg_div"></div>
</body>
</html>
